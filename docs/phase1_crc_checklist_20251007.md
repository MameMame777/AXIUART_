# Phase 1 実行チェックリスト - CRC計算エラー解決

## 📋 **Step 1-1: CRCエラー状況の詳細分析**

### 実行手順
```bash
# 1. UVMログファイル確認
cd E:\Nautilus\workspace\fpgawork\AXIUART_\sim\uvm
type dsim.log | findstr /i "crc"

# 2. エラーメッセージの詳細抽出
type dsim.log | findstr /i "expected.*received"
```

### チェックリスト
- [ ] **1-1-1**: CRCエラーメッセージを特定完了
  - 発見したエラー: `recv=0x44 exp=0x12`, `recv=0x78 exp=0x4a`
  - ログ行番号: ___________
  - 備考: ___________________

- [ ] **1-1-2**: エラー発生タイミングを特定完了
  - 送信フレーム時: [ ] 有り / [ ] 無し
  - 受信フレーム時: [ ] 有り / [ ] 無し  
  - 備考: ___________________

- [ ] **1-1-3**: 具体的なCRC値を記録完了
  - エラー1: 期待値=0x12, 実際値=0x44, 対象データ=__________
  - エラー2: 期待値=0x4a, 実際値=0x78, 対象データ=__________
  - 備考: ___________________

- [ ] **1-1-4**: エラー発生頻度を確認完了
  - 発生パターン: [ ] 全フレーム / [ ] 特定条件のみ
  - 発生回数: ___________
  - 備考: ___________________

**Step 1-1 完了判定**: 全てのチェックボックスが完了していること

---

## 📋 **Step 1-2: Frame_Parser.sv CRC実装の確認**

### 実行手順
```bash
# 1. CRC関連コード確認
cd E:\Nautilus\workspace\fpgawork\AXIUART_\rtl
findstr /n /i "crc" Frame_Parser.sv

# 2. CRC計算ブロック詳細確認
# (発見した行番号周辺を確認)
```

### チェックリスト
- [ ] **1-2-1**: CRC計算部分の読み込み完了
  - CRC計算開始行: ___________
  - CRC計算終了行: ___________
  - 関連モジュール: ___________
  - 備考: ___________________

- [ ] **1-2-2**: CRC8多項式0x07の実装確認完了
  - 多項式定義箇所: ___________
  - 実装値: ___________
  - 仕様適合: [ ] OK / [ ] NG
  - 備考: ___________________

- [ ] **1-2-3**: CRC初期値の設定確認完了
  - 初期値設定箇所: ___________
  - 初期値: ___________
  - 仕様適合: [ ] OK / [ ] NG
  - 備考: ___________________

- [ ] **1-2-4**: CRC計算対象データの範囲確認完了
  - 計算開始バイト: ___________
  - 計算終了バイト: ___________
  - 除外バイト: ___________
  - 備考: ___________________

- [ ] **1-2-5**: バイト順序確認完了
  - データ順序: [ ] MSB first / [ ] LSB first
  - ビット順序: [ ] MSB first / [ ] LSB first
  - 仕様適合: [ ] OK / [ ] NG
  - 備考: ___________________

**Step 1-2 完了判定**: 全てのチェックボックスが完了していること

---

## 📋 **Step 1-3: CRC計算の参照実装作成**

### 実行手順
```bash
# 1. Python参照実装ファイル作成
cd E:\Nautilus\workspace\fpgawork\AXIUART_\temporary
# crc_reference.py を作成
```

### チェックリスト
- [ ] **1-3-1**: Python参照実装を作成完了
  - ファイル名: `crc_reference.py`
  - CRC8アルゴリズム実装: [ ] 完了
  - 多項式0x07使用: [ ] 確認済み
  - 備考: ___________________

- [ ] **1-3-2**: 既知のテストベクタで検証完了
  - テストケース1: データ=_______, 期待CRC=_______, 計算CRC=_______
  - テストケース2: データ=_______, 期待CRC=_______, 計算CRC=_______
  - 検証結果: [ ] 全てOK / [ ] 一部NG / [ ] 全てNG
  - 備考: ___________________

- [ ] **1-3-3**: UVMデータでPython CRC計算完了
  - UVMエラーデータ1: データ=_______, Python CRC=_______
  - UVMエラーデータ2: データ=_______, Python CRC=_______
  - 備考: ___________________

- [ ] **1-3-4**: SystemVerilog実装との比較完了
  - データ1: SystemVerilog=0x44, Python=_______, 一致: [ ] Yes / [ ] No
  - データ2: SystemVerilog=0x78, Python=_______, 一致: [ ] Yes / [ ] No
  - 原因分析: ___________________
  - 備考: ___________________

**Step 1-3 完了判定**: 全てのチェックボックスが完了し、原因が特定されていること

---

## 📋 **Step 1-4: SystemVerilog CRC実装の修正**

### 実行手順
```bash
# 1. Frame_Parser.sv のバックアップ作成
cd E:\Nautilus\workspace\fpgawork\AXIUART_\rtl
copy Frame_Parser.sv Frame_Parser.sv.backup

# 2. 修正実施
# (特定された問題に基づいてコード修正)

# 3. 修正後コンパイル確認
cd ..\sim\uvm
.\run_uvm.ps1 -mode compile
```

### チェックリスト
- [ ] **1-4-1**: CRC計算アルゴリズムの問題箇所特定完了
  - 問題箇所: ___________
  - 問題内容: ___________
  - 修正方針: ___________
  - 備考: ___________________

- [ ] **1-4-2**: バイト順序問題の修正完了
  - 修正の必要性: [ ] あり / [ ] なし
  - 修正箇所: ___________
  - 修正内容: ___________
  - 備考: ___________________

- [ ] **1-4-3**: 多項式実装の修正完了
  - 修正の必要性: [ ] あり / [ ] なし
  - 修正箇所: ___________
  - 修正内容: ___________
  - 備考: ___________________

- [ ] **1-4-4**: 初期値・最終値処理の修正完了
  - 修正の必要性: [ ] あり / [ ] なし
  - 修正箇所: ___________
  - 修正内容: ___________
  - 備考: ___________________

- [ ] **1-4-5**: 修正後のコンパイル確認完了
  - コンパイル結果: [ ] 成功 / [ ] 失敗
  - エラーメッセージ: ___________
  - 追加修正: [ ] 必要 / [ ] 不要
  - 備考: ___________________

**Step 1-4 完了判定**: 全ての修正が完了し、コンパイルが成功していること

---

## 📋 **Step 1-5: CRC修正の動作確認**

### 実行手順
```bash
# 1. 修正されたRTLでUVMテスト実行
cd E:\Nautilus\workspace\fpgawork\AXIUART_\sim\uvm
.\run_uvm.ps1

# 2. 結果確認
type dsim.log | findstr /i "crc"
type dsim.log | findstr /i "uvm_error"
```

### チェックリスト
- [ ] **1-5-1**: UVMシミュレーション実行完了
  - 実行時間: ___________
  - 実行結果: [ ] 正常終了 / [ ] エラー終了
  - 備考: ___________________

- [ ] **1-5-2**: CRCエラーの解消確認完了
  - CRCエラー発生: [ ] なし / [ ] あり
  - 残存エラー数: ___________
  - 解消確認: [ ] 完全解消 / [ ] 部分解消 / [ ] 未解消
  - 備考: ___________________

- [ ] **1-5-3**: 新たなエラー発生確認完了
  - 新規エラー: [ ] なし / [ ] あり
  - エラー内容: ___________
  - 影響範囲: ___________
  - 備考: ___________________

- [ ] **1-5-4**: 波形ファイルでCRC計算タイミング確認完了
  - 波形ファイル: [ ] 生成済み / [ ] 生成失敗
  - CRC計算タイミング: [ ] 正常 / [ ] 異常
  - 備考: ___________________

**Step 1-5 完了判定**: CRCエラーが完全に解消され、新たな問題がないこと

---

## 🎯 **Phase 1 完了判定**

### 成功条件
- [ ] 全てのCRCエラーが解消されている
- [ ] UVMテストが正常に実行される
- [ ] フレーム検証が成功している
- [ ] 修正内容がGitにコミットされている

### 次のアクション
Phase 1が完了したら、Todo管理を更新し、Phase 2（AXIアライメントエラー解決）に進む

### 品質確認
- [ ] コンパイルエラーなし
- [ ] 回帰テスト実施済み
- [ ] 修正内容文書化済み
- [ ] Git管理済み

---

*このチェックリストに従って、1つずつ確実にCRCエラーを解決すること*